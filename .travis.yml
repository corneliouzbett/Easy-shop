
dist: trusty
sudo: false
 
language: node_js
node_js:
  - "8"
  
addons:
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
 
cache:
  directories:
     - ./node_modules
 
install:
  - npm install
 
script:
  - npm run test -- --single-run --no-progress --browser=ChromeHeadlessCI
  - npm run e2e -- --no-progress --config=protractor-ci.conf.js

# language: node_js
# node_js:
#   - "8"
#   - "9"
# env:
#   global:
#     - CI=true
#   matrix:
#     - TEST_DOC=false
#     - TEST_DOC=true

# sudo: true
# # dist: trusty

# branches:
#   only:
#   - master

# before_script:
#  - export CHROME_BIN=/usr/bin/google-chrome
#  - export DISPLAY=:99.0
#  - sh -e /etc/init.d/xvfb start
#  - sudo apt-get update
#  - sudo apt-get install -y libappindicator1 fonts-liberation
#  - wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
#  - sudo dpkg -i google-chrome*.deb

# script: 
#   - ng test
#   - npm run e2e

# deploy:
#   provider: pages
#   skip_cleanup: true
#   github_token: $GITHUB_TOKEN # Set in travis-ci.org dashboard
#   local_dir: dist
#   on:
#     branch: master